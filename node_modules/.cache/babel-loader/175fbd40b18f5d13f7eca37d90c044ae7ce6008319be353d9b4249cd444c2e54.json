{"ast":null,"code":"import { Auth, API } from \"aws-amplify\";\nimport config from \"./../aws-exports.js\";\nAuth.configure(config);\nasync function callApiDynamo(event) {\n  console.log(event);\n  const user = await Auth.currentAuthenticatedUser();\n  const token = user.signInUserSession.idToken.jwtToken;\n  console.log(\"token: \", token);\n  const requestData = {\n    headers: {\n      Authorization: token\n    },\n    queryStringParameters: {\n      requested_filename: \"test\",\n      upload_date: \"test\"\n    }\n  };\n  const data = await API.get(\"phibyeAPI\", \"/pulldata\", requestData);\n  console.log(\"data: \", data);\n}\nexport default callApiDynamo;","map":{"version":3,"names":["Auth","API","config","configure","callApiDynamo","event","console","log","user","currentAuthenticatedUser","token","signInUserSession","idToken","jwtToken","requestData","headers","Authorization","queryStringParameters","requested_filename","upload_date","data","get"],"sources":["/Users/illusjw/Desktop/Internship_Files/Code/website/amplify-phi-bye/src/pages/CallApi.js"],"sourcesContent":["import { Auth, API } from \"aws-amplify\";\nimport config from \"./../aws-exports.js\";\nAuth.configure(config);\n\nasync function callApiDynamo(event) {\n  console.log(event);\n  const user = await Auth.currentAuthenticatedUser();\n  const token = user.signInUserSession.idToken.jwtToken;\n  console.log(\"token: \", token);\n  const requestData = {\n    headers: {\n      Authorization: token,\n    },\n    queryStringParameters: {\n      requested_filename: \"test\",\n      upload_date: \"test\",\n    },\n  };\n  const data = await API.get(\"phibyeAPI\", \"/pulldata\", requestData);\n\n  console.log(\"data: \", data);\n}\n\nexport default callApiDynamo;\n"],"mappings":"AAAA,SAASA,IAAI,EAAEC,GAAG,QAAQ,aAAa;AACvC,OAAOC,MAAM,MAAM,qBAAqB;AACxCF,IAAI,CAACG,SAAS,CAACD,MAAM,CAAC;AAEtB,eAAeE,aAAaA,CAACC,KAAK,EAAE;EAClCC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EAClB,MAAMG,IAAI,GAAG,MAAMR,IAAI,CAACS,wBAAwB,CAAC,CAAC;EAClD,MAAMC,KAAK,GAAGF,IAAI,CAACG,iBAAiB,CAACC,OAAO,CAACC,QAAQ;EACrDP,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEG,KAAK,CAAC;EAC7B,MAAMI,WAAW,GAAG;IAClBC,OAAO,EAAE;MACPC,aAAa,EAAEN;IACjB,CAAC;IACDO,qBAAqB,EAAE;MACrBC,kBAAkB,EAAE,MAAM;MAC1BC,WAAW,EAAE;IACf;EACF,CAAC;EACD,MAAMC,IAAI,GAAG,MAAMnB,GAAG,CAACoB,GAAG,CAAC,WAAW,EAAE,WAAW,EAAEP,WAAW,CAAC;EAEjER,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEa,IAAI,CAAC;AAC7B;AAEA,eAAehB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { Auth, API } from \"aws-amplify\";\nimport config from \"./../aws-exports.js\";\nAuth.configure(config);\nasync function callApiDynamo(filename, date) {\n  console.log(\"PRINTING EVENT\");\n  const user = await Auth.currentAuthenticatedUser();\n  const token = user.signInUserSession.idToken.jwtToken;\n  console.log(\"Filename: \", filename);\n  console.log(\"Date: \", date);\n  console.log(\"token: \", token);\n  const requestData = {\n    headers: {\n      Authorization: token\n    },\n    queryStringParameters: {\n      requested_filename: filename,\n      upload_date: date\n    }\n  };\n  try {\n    const data = await API.get(\"phibyeapi\", \"/pulldata\", requestData);\n  } catch (error) {\n    console.log(error);\n  }\n  console.log(\"data: \", data);\n}\nexport default callApiDynamo;","map":{"version":3,"names":["Auth","API","config","configure","callApiDynamo","filename","date","console","log","user","currentAuthenticatedUser","token","signInUserSession","idToken","jwtToken","requestData","headers","Authorization","queryStringParameters","requested_filename","upload_date","data","get","error"],"sources":["/Users/illusjw/Desktop/Internship_Files/Code/website/amplify-phi-bye/src/pages/CallApi.js"],"sourcesContent":["import { Auth, API } from \"aws-amplify\";\nimport config from \"./../aws-exports.js\";\nAuth.configure(config);\n\nasync function callApiDynamo(filename, date) {\n  console.log(\"PRINTING EVENT\");\n  const user = await Auth.currentAuthenticatedUser();\n  const token = user.signInUserSession.idToken.jwtToken;\n  console.log(\"Filename: \", filename);\n  console.log(\"Date: \", date);\n  console.log(\"token: \", token);\n\n  const requestData = {\n    headers: {\n      Authorization: token,\n    },\n    queryStringParameters: {\n      requested_filename: filename,\n      upload_date: date,\n    },\n  };\n  try {\n    const data = await API.get(\"phibyeapi\", \"/pulldata\", requestData);\n  } catch (error) {\n    console.log(error);\n  }\n\n  console.log(\"data: \", data);\n}\n\nexport default callApiDynamo;\n"],"mappings":"AAAA,SAASA,IAAI,EAAEC,GAAG,QAAQ,aAAa;AACvC,OAAOC,MAAM,MAAM,qBAAqB;AACxCF,IAAI,CAACG,SAAS,CAACD,MAAM,CAAC;AAEtB,eAAeE,aAAaA,CAACC,QAAQ,EAAEC,IAAI,EAAE;EAC3CC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;EAC7B,MAAMC,IAAI,GAAG,MAAMT,IAAI,CAACU,wBAAwB,CAAC,CAAC;EAClD,MAAMC,KAAK,GAAGF,IAAI,CAACG,iBAAiB,CAACC,OAAO,CAACC,QAAQ;EACrDP,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEH,QAAQ,CAAC;EACnCE,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,IAAI,CAAC;EAC3BC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEG,KAAK,CAAC;EAE7B,MAAMI,WAAW,GAAG;IAClBC,OAAO,EAAE;MACPC,aAAa,EAAEN;IACjB,CAAC;IACDO,qBAAqB,EAAE;MACrBC,kBAAkB,EAAEd,QAAQ;MAC5Be,WAAW,EAAEd;IACf;EACF,CAAC;EACD,IAAI;IACF,MAAMe,IAAI,GAAG,MAAMpB,GAAG,CAACqB,GAAG,CAAC,WAAW,EAAE,WAAW,EAAEP,WAAW,CAAC;EACnE,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdhB,OAAO,CAACC,GAAG,CAACe,KAAK,CAAC;EACpB;EAEAhB,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEa,IAAI,CAAC;AAC7B;AAEA,eAAejB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}